<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle Fuzzy - Data Center</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸŒ¡ï¸ Sistema de Controle Fuzzy para Data Center</h1>
            <p class="subtitle">Controle Inteligente de Temperatura com LÃ³gica Fuzzy</p>
        </header>

        <div class="main-content">
            <!-- Painel de Controle Manual -->
            <section class="card control-panel">
                <h2>âš™ï¸ Controle Manual</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="error">Erro (e) [Â°C]</label>
                        <input type="number" id="error" step="0.1" value="0" min="-10" max="10">
                        <small>DiferenÃ§a entre temperatura desejada e atual</small>
                    </div>
                    <div class="form-group">
                        <label for="deltaError">VariaÃ§Ã£o do Erro (Î”e) [Â°C/min]</label>
                        <input type="number" id="deltaError" step="0.1" value="0" min="-5" max="5">
                        <small>Taxa de variaÃ§Ã£o do erro</small>
                    </div>
                    <div class="form-group">
                        <label for="externalTemp">Temperatura Externa (Text) [Â°C]</label>
                        <input type="number" id="externalTemp" step="0.1" value="25" min="15" max="35">
                        <small>Temperatura ambiente externa</small>
                    </div>
                    <div class="form-group">
                        <label for="thermalLoad">Carga TÃ©rmica (Qest) [kW]</label>
                        <input type="number" id="thermalLoad" step="0.1" value="50" min="0" max="100">
                        <small>Carga tÃ©rmica estimada</small>
                    </div>
                </div>
                <div class="button-group">
                    <button id="btnControl" class="btn btn-primary">ğŸš€ Executar Controle</button>
                    <button id="btnSimulation" class="btn btn-secondary">ğŸ“Š Rodar SimulaÃ§Ã£o 24h</button>
                    <button id="btnReset" class="btn btn-tertiary">ğŸ”„ Limpar/Resetar</button>
                    <a href="mqtt_dashboard.html" class="btn btn-secondary" style="text-decoration: none; display: inline-block;">ğŸ“¡ Dashboard MQTT</a>
                </div>
            </section>

            <!-- ConfiguraÃ§Ã£o de ParÃ¢metros -->
            <section class="card config-panel">
                <h2>âš™ï¸ ConfiguraÃ§Ã£o do Sistema</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="setpoint">Setpoint (Temperatura Desejada) [Â°C]</label>
                        <input type="number" id="setpoint" step="0.1" value="22.0" min="16" max="32">
                        <small>Temperatura alvo do sistema</small>
                    </div>
                </div>
            </section>

            <!-- Resultado do Controle -->
            <section class="card result-panel">
                <h2>ğŸ“ˆ Resultado do Controle</h2>
                <div class="result-display">
                    <div class="result-item">
                        <span class="label">PotÃªncia CRAC:</span>
                        <span id="pCrac" class="value">--</span>
                        <span class="unit">%</span>
                    </div>
                    <div class="result-item">
                        <span class="label">Erro:</span>
                        <span id="errorResult" class="value">--</span>
                        <span class="unit">Â°C</span>
                    </div>
                    <div class="result-item">
                        <span class="label">VariaÃ§Ã£o do Erro:</span>
                        <span id="deltaErrorResult" class="value">--</span>
                        <span class="unit">Â°C/min</span>
                    </div>
                    <div class="result-item">
                        <span class="label">Regras Ativadas:</span>
                        <span id="activatedRules" class="value">--</span>
                    </div>
                </div>
            </section>

            <!-- GrÃ¡ficos de FunÃ§Ãµes de PertinÃªncia -->
            <section class="card membership-section">
                <h2>ğŸ“Š FunÃ§Ãµes de PertinÃªncia</h2>
                <div class="chart-container">
                    <canvas id="errorChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="deltaErrorChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="tempChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="loadChart"></canvas>
                </div>
                <div class="chart-container">
                    <canvas id="powerChart"></canvas>
                </div>
            </section>

            <!-- Regras Ativadas -->
            <section class="card rules-section">
                <h2>ğŸ” Regras Ativadas</h2>
                <div id="rulesList" class="rules-list">
                    <p class="empty-message">Execute um controle para ver as regras ativadas</p>
                </div>
            </section>

            <!-- AgregaÃ§Ã£o e DefuzzificaÃ§Ã£o -->
            <section class="card inference-section">
                <h2>ğŸ”„ Processo de InferÃªncia</h2>
                <div class="inference-content">
                    <div class="chart-container">
                        <canvas id="aggregationChart"></canvas>
                    </div>
                    <div class="defuzzification-info">
                        <h3>DefuzzificaÃ§Ã£o (MÃ©todo do Centroide)</h3>
                        <div id="defuzzificationDetails" class="defuzz-details">
                            <p class="empty-message">Execute um controle para ver os detalhes da defuzzificaÃ§Ã£o</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- GrÃ¡fico de SimulaÃ§Ã£o 24h -->
            <section class="card simulation-section">
                <h2>ğŸ“‰ SimulaÃ§Ã£o 24 Horas</h2>
                <div class="chart-container large">
                    <canvas id="simulationChart"></canvas>
                </div>
                <div id="simulationStats" class="stats-panel"></div>
            </section>
        </div>
    </div>

    <script src="scripts.js"></script>
</body>
</html>

